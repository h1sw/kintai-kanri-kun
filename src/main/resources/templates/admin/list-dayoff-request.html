<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	xmlns:th="https:/www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" content="text/html">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<link th:href="@{/style.css}" rel="stylesheet">
		<title>タイムシート</title>
	</head>
	<body>
		<header class="navbar sticky-top bg-dark d-flex">
			<nav class="container text-white">
				<div>
					<a th:href="@{/home}">勤怠管理くん</a>
			    </div>
				<div>
					社員ID: <span th:text="${loginUserId}"></span>  |  <a th:href="@{/logout}">ログアウト</a>
				</div>
			</nav>
		</header>
		<main class="container">
			<h1>変更申請一覧</h1>

			<table class="table">
				<thead>
						<th>申請ID</th>
						<th>社員ID</th>
						<th>社員名</th>
						<th>業務日</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="item : ${data}">
						<td th:text="${item.id}"></td>
						<td th:text="${item.account.id}"></td>
						<td th:text="${item.account.profile.name}"></td>
						<td th:text="${item.workingDay}"></td>
						<td>
							<a class="link link-primary"
							  th:href="@{/admin/detail-change-request(
							    request_id=${item.id}
							  )}">申請内容</a>
						</td>
						<td>
							<span th:if="${item.applyFlag}">
								<a class="btn btn-primary disabled">承認済み</a>
							</span>
							<span th:if="${!item.applyFlag}">
								<a class="btn btn-primary"
								   th:href="@{/admin/detail-dayoff-request(request_id=${item.id})}">承認</a>
							</span>
						</td>
					</tr>
				</tbody>
			</table>
		</main>
		<footer>
		</footer>
	</body>
</html>